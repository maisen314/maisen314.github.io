(this["webpackJsonpjoke.calender"]=this["webpackJsonpjoke.calender"]||[]).push([[0],[,,,,function(e,t,n){e.exports={navbar:"Hamburger_navbar__21JeB",navbranding:"Hamburger_navbranding__2JFfS",navmenu:"Hamburger_navmenu__2JUuE",navlink:"Hamburger_navlink__1PrJC",hamburger:"Hamburger_hamburger__36Un3",bar:"Hamburger_bar__1W2Nz",active:"Hamburger_active__2aKt6",navitem:"Hamburger_navitem__2Zqz7"}},function(e,t,n){e.exports={form:"ResponseForm_form__1VFJw",control:"ResponseForm_control__jRjwf",actions:"ResponseForm_actions__1-bhU"}},,,,,,function(e,t,n){e.exports={main:"App_main__uN9ca"}},function(e,t,n){e.exports={card:"Card_card__3K4pi"}},,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(1),s=n(10),a=n.n(s),c=(n(17),n(2)),o=n(11),i=n.n(o),d=n(3),j=n(12),u=n.n(j),b=n(0);var l=function(e){return Object(b.jsx)("div",{className:u.a.card,children:e.children})};var f=function(){var e=Object(r.useState)({}),t=Object(d.a)(e,2),n=t[0],s=t[1];Object(r.useEffect)((function(){fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/score.json").then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){e&&s(e)}))}),[]);var a=[];for(var c in n)a.push([c,n[c]]);return a.sort((function(e,t){return t[1]-e[1]})),Object(b.jsx)("div",{children:Object(b.jsxs)(l,{children:[Object(b.jsx)("h2",{children:"Highscore"}),a!==[]&&Object(b.jsx)("table",{children:Object(b.jsx)("tbody",{children:a.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e[0]}),Object(b.jsx)("td",{children:e[1]})]},e[0])}))})})]})})},h=n(5),O=n.n(h),p=n.p+"static/media/1desember.a89d8119.jpeg",v=n.p+"static/media/2desember.39d5a428.jpeg",x=n.p+"static/media/3desember.84ebc20f.jpeg",m=n.p+"static/media/4desember.a4f126d3.jpeg";var k=function(e){var t=Object(r.useRef)(),n=Object(r.useRef)(),s=Object(r.useRef)(),a=Object(r.useRef)(),c=Object(r.useState)(""),o=Object(d.a)(c,2),i=o[0],j=o[1],u=(new Date).getDate().toString();function f(e){return"Rebus1"===i?Object(b.jsx)("div",{id:"question",ref:a,children:Object(b.jsx)("img",{alt:"rebus 1",src:p,width:"100%"})}):"Rebus2"===i?Object(b.jsx)("div",{id:"question",ref:a,children:Object(b.jsx)("img",{alt:"rebus 2",src:v,width:"100%"})}):"Rebus3"===i?Object(b.jsx)("div",{id:"question",ref:a,children:Object(b.jsx)("img",{alt:"rebus 3",src:x,width:"100%"})}):"Rebus4"===i?Object(b.jsx)("div",{id:"question",ref:a,children:Object(b.jsx)("img",{alt:"rebus 4",src:m,width:"100%"})}):Object(b.jsx)("div",{id:"question",ref:a,children:i})}return Object(r.useEffect)((function(){var e;e=u,fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/openedDoors/".concat(e,"/question.json")).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(t){if(t){var n=Object.keys(t);j(t[n[0]].question)}else fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/doorIds.json").then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(t){var n=Object.keys(t),r=n[Math.floor(Math.random()*n.length)];fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/doorsQ/".concat(r,".json")).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(t){var n=t[Object.keys(t)[0]].question;j(n),fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/openedDoors/".concat(e,"/question.json"),{method:"POST",body:JSON.stringify({question:n,id:r}),headers:{"Content-Type":"application/json"}})})).then(fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/doorIds/".concat(r,".json"),{method:"DELETE"})).catch((function(e){j(e)}))}))}))}),[u]),Object(b.jsx)(l,{children:Object(b.jsxs)("form",{className:O.a.form,onSubmit:function(r){r.preventDefault();var c={username:t.current.value,password:n.current.value,answer:s.current.value,question:a.current.value,door:u,submittedAt:new Date};console.log(c),e.onSubmittedDoor(c)},children:[Object(b.jsx)("h2",{children:"Dagens sp\xf8rsm\xe5l"}),Object(b.jsx)(f,{}),Object(b.jsxs)("h3",{children:["Luke ",u]}),Object(b.jsx)("div",{className:O.a.control,children:Object(b.jsx)("textarea",{id:"message",rows:"5",ref:s,placeholder:"Skriv svaret her"})}),Object(b.jsx)("div",{className:O.a.control,children:Object(b.jsx)("input",{type:"text",id:"name",required:!0,ref:t,placeholder:"Brukernavn"})}),Object(b.jsx)("div",{className:O.a.control,children:Object(b.jsx)("input",{type:"password",id:"password",required:!0,ref:n,placeholder:"Passord"})}),Object(b.jsx)("div",{className:O.a.actions,children:Object(b.jsx)("button",{children:"Send inn"})})]})})};var g=function(){var e=Object(c.f)();return Object(b.jsx)("div",{children:Object(b.jsx)("section",{children:Object(b.jsx)(k,{onSubmittedDoor:function(t){var n="".concat(t.password).concat(t.username);fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(n,".json")).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(n){if(!n)throw new Error("Brukernavn eller passord er feil");!function(t){var n=t.door;fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/openedDoors/".concat(n,"/answer.json"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(){e("/takk")}))}(t)})).catch((function(e){alert(e.message)}))}})})})};var w=function(){return Object(b.jsx)("div",{children:"Lukesvar er notert! H\xe5per det var riktig \ud83e\udd1e"})};function y(e){var t=e.id,n=e.door,s=Object(r.useState)(!1),a=Object(d.a)(s,2),c=a[0],o=a[1],i=Object(r.useState)({}),j=Object(d.a)(i,2),u=j[0],f=j[1];function h(e){return"Rebus1"===u.question?Object(b.jsx)("div",{id:"question",children:Object(b.jsx)("img",{alt:"rebus 1",src:p,width:"100%"})}):"Rebus2"===u.question?Object(b.jsx)("div",{id:"question",children:Object(b.jsx)("img",{alt:"rebus 2",src:v,width:"100%"})}):"Rebus3"===u.question?Object(b.jsx)("div",{id:"question",children:Object(b.jsx)("img",{alt:"rebus 3",src:x,width:"100%"})}):"Rebus4"===u.question?Object(b.jsx)("div",{id:"question",children:Object(b.jsx)("img",{alt:"rebus 4",src:m,width:"100%"})}):Object(b.jsx)("div",{id:"question",children:u.question})}return Object(r.useEffect)((function(){console.log(t),fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/doorsQnA/".concat(t,".json")).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){if(e){var t=Object.keys(e.qna);f(e.qna[t[0]])}}))}),[t]),Object(b.jsxs)(l,{children:[Object(b.jsxs)("h2",{children:["Luke ",n]}),Object(b.jsx)(h,{}),c&&Object(b.jsx)("div",{children:u.answer}),Object(b.jsx)("button",{onClick:function(){return o(!c)},children:c?"Skjul svar":"Vis svar"})]},t)}var S=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],s=t[1];return Object(r.useEffect)((function(){fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/openedDoors.json").then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){if(e){console.log(e);var t=e.filter((function(e){return e}));t.pop();var n=Object.keys(t).map((function(e){return{question:t[e].question,door:parseInt(e)+1}})).map((function(e){var t=Object.keys(e.question);return{id:e.question[t[0]].id,door:e.door}}));s(n.reverse())}}))}),[]),n.map((function(e){return Object(b.jsx)(y,{id:e.id,door:e.door},e.id)}))};var q=function(e){var t=Object(r.useRef)(),n=Object(r.useRef)();return Object(b.jsx)(l,{children:Object(b.jsxs)("form",{className:O.a.form,onSubmit:function(r){r.preventDefault();var s,a={username:t.current.value,password:n.current.value,submittedAt:new Date};try{s=a,fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/users/username.json").then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(t){return t&&Object.keys(t).forEach((function(e){var n;if((null===(n=t[e])||void 0===n?void 0:n.username)===s.username)throw new Error("Brukernavnet er opptatt")})),e.onAddedUser(s)})).catch((function(e){return document.getElementById("error").innerHTML=e.message}))}catch(c){console.log(c)}},children:[Object(b.jsx)("h3",{children:"Velg brukernavn og passord"}),Object(b.jsx)("div",{className:O.a.control,children:Object(b.jsx)("input",{type:"text",id:"name",required:!0,ref:t,placeholder:"Brukernavn"})}),Object(b.jsx)("div",{className:O.a.control,children:Object(b.jsx)("input",{type:"password",id:"password",required:!0,ref:n,placeholder:"Passord"})}),Object(b.jsx)("div",{id:"error",children:" "}),Object(b.jsx)("div",{className:O.a.actions,children:Object(b.jsx)("button",{children:"Send inn"})})]})})},N=n(6);var _=function(){var e=Object(c.f)();return Object(b.jsxs)("div",{children:[Object(b.jsx)("section",{children:Object(b.jsx)(q,{onAddedUser:function(t){var n;!function(e){var t="".concat(e.password).concat(e.username);fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(t,".json"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}(t),n={username:t.username,submittedAt:t.submittedAt},fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/users/username.json",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(){return e("/takk")}))}})}),Object(b.jsx)(N.b,{to:"/admin",children:"."})]})};var C=function(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(r.useRef)(),s=Object(r.useState)(!1),a=Object(d.a)(s,2),c=a[0],o=a[1],i=Object(r.useState)(!1),j=Object(d.a)(i,2),u=j[0],l=j[1],f=Object(r.useState)(""),h=Object(d.a)(f,2),O=h[0],p=h[1],v=Object(r.useState)({}),x=Object(d.a)(v,2),m=x[0],k=x[1],g=Object(r.useState)({}),w=Object(d.a)(g,2),y=w[0],S=w[1],q=Object(r.useState)({}),N=Object(d.a)(q,2),_=N[0],C=N[1];function R(n){n.preventDefault();var r=e.current.value,s=t.current.value;o("sjef"===r&&"sjef1"===s)}function D(e,t){var n=_[e];"+"===t?n++:n--,_[e]=n,C(_),l(!u)}function T(e){e.preventDefault();var t=n.current.value;p(t)}function J(e){e.preventDefault(),fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/score.json",{method:"PATCH",body:JSON.stringify(_),headers:{"Content-Type":"application/json"}})}function A(){return Object(b.jsxs)("form",{onSubmit:R,children:[Object(b.jsx)("input",{type:"text",ref:e}),Object(b.jsx)("input",{type:"password",ref:t}),Object(b.jsx)("button",{children:"Pr\xf8v"})]})}function E(){var e=Object.keys(_);return Object(b.jsxs)("div",{children:[Object(b.jsxs)("form",{onSubmit:T,children:[Object(b.jsx)("input",{type:"text",ref:n}),Object(b.jsx)("div",{children:"Sp\xf8rsm\xe5l"}),Object(b.jsx)("pre",{id:"questionP",children:JSON.stringify(m,null,2)}),Object(b.jsx)("pre",{id:"answers",children:JSON.stringify(y,null,2)}),Object(b.jsx)("button",{children:"butt"})]}),Object(b.jsxs)("form",{onSubmit:J,children:[Object(b.jsx)("table",{children:Object(b.jsx)("tbody",{children:e.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{children:[e," ",_[e]," "]}),Object(b.jsxs)("td",{children:[Object(b.jsx)("button",{onClick:function(){return D(e,"+")},children:"+1"}),Object(b.jsx)("button",{onClick:function(){return D(e,"-")},children:"-1"})]})]},e)}))})}),Object(b.jsx)("button",{children:"Oppdater"})]})]})}return Object(r.useEffect)((function(){fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/score.json").then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){C(e)}))}),[]),Object(r.useEffect)((function(){""!==O&&fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/openedDoors/".concat(O,".json")).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){S(e.answer);var t=Object.keys(e.question),n=e.question[t[0]].id;fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/doorsQnA/".concat(n,".json")).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){if(e){var t=Object.keys(e.qna);k(e.qna[t[0]])}}))}))}),[O]),Object(b.jsxs)("div",{children:[!c&&Object(b.jsx)(A,{}),c&&Object(b.jsx)(E,{})]})};var R=function(e){var t=Object(r.useRef)(),n=Object(r.useRef)();return Object(b.jsx)(l,{children:Object(b.jsxs)("form",{className:O.a.form,onSubmit:function(r){r.preventDefault();var s={id:Math.floor(1e3*Math.random()),question:t.current.value,answer:n.current.value,submittedAt:new Date};try{e.onAddedQnA(s)}catch(a){console.log(a)}},children:[Object(b.jsx)("h3",{children:"Legg inn en ny luke"}),Object(b.jsx)("div",{className:O.a.control,children:Object(b.jsx)("textarea",{type:"text",id:"question",required:!0,rows:"5",ref:t,placeholder:"Sp\xf8rsm\xe5l"})}),Object(b.jsx)("div",{className:O.a.control,children:Object(b.jsx)("textarea",{type:"text",id:"answer",rows:"5",required:!0,ref:n,placeholder:"Svar"})}),Object(b.jsx)("div",{id:"error",children:" "}),Object(b.jsx)("div",{className:O.a.actions,children:Object(b.jsx)("button",{children:"Send inn"})})]})})};var D=function(){var e=Object(c.f)();return Object(b.jsx)("div",{children:Object(b.jsx)("section",{children:Object(b.jsx)(R,{onAddedQnA:function(t){fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/doorsQnA/".concat(t.id,"/qna.json"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/doorsQ/".concat(t.id,".json"),{method:"POST",body:JSON.stringify({question:t.question}),headers:{"Content-Type":"application/json"}})).then(fetch("https://adventofjokes-default-rtdb.europe-west1.firebasedatabase.app/doorIds/".concat(t.id,".json"),{method:"POST",body:JSON.stringify(t.id),headers:{"Content-Type":"application/json"}})).then(e("/takk"))}})})})},T=n(4),J=n.n(T);var A=function(){var e=Object(r.useState)(J.a.hamburger),t=Object(d.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(J.a.navmenu),c=Object(d.a)(a,2),o=c[0],i=c[1],j=Object(r.useState)(!1),u=Object(d.a)(j,2),l=u[0],f=u[1];function h(){l?(s(J.a.hamburger),i(J.a.navmenu),f(!1)):(s(J.a.hamburger+" "+J.a.active),i(J.a.navmenu+" "+J.a.active),f(!0))}return Object(b.jsx)("header",{children:Object(b.jsxs)("nav",{className:J.a.navbar,children:[Object(b.jsx)(N.b,{className:J.a.navbranding,to:"/",children:"Vitsekalender"}),Object(b.jsxs)("ul",{className:o,children:[Object(b.jsx)("li",{className:J.a.navitem,children:Object(b.jsx)(N.b,{to:"/highscore",onClick:function(){return h()},children:"Highscore"})}),Object(b.jsx)("li",{className:J.a.navitem,children:Object(b.jsx)(N.b,{to:"/",onClick:function(){return h()},children:"Dagens luke"})}),Object(b.jsx)("li",{className:J.a.navitem,children:Object(b.jsx)(N.b,{to:"/tidligere-luker",onClick:function(){return h()},children:"Tidligere luker"})}),Object(b.jsx)("li",{className:J.a.navitem,children:Object(b.jsx)(N.b,{to:"/legg-til-luke",onClick:function(){return h()},children:"Nytt sp\xf8rsm\xe5l"})}),Object(b.jsx)("li",{className:J.a.navitem,children:Object(b.jsx)(N.b,{to:"/ny-bruker",onClick:function(){return h()},children:"Ny bruker"})})]}),Object(b.jsxs)("div",{className:n,onClick:function(){return h()},children:[Object(b.jsx)("span",{className:J.a.bar}),Object(b.jsx)("span",{className:J.a.bar}),Object(b.jsx)("span",{className:J.a.bar})]})]})})};var E=function(){return Object(b.jsx)("h3",{children:"Ikke pr\xf8v deg p\xe5 \xe5 hacke kalenderen din dust."})};var P=function(){return Object(b.jsxs)("div",{className:i.a.main,id:"main",children:[Object(b.jsx)(A,{}),Object(b.jsxs)(c.c,{children:[Object(b.jsx)(c.a,{path:"/",exact:!0,element:Object(b.jsx)(g,{})}),Object(b.jsx)(c.a,{path:"/highscore",exact:!0,element:Object(b.jsx)(f,{})}),Object(b.jsx)(c.a,{path:"/takk",element:Object(b.jsx)(w,{})}),Object(b.jsx)(c.a,{path:"/fuckdeg",element:Object(b.jsx)(E,{})}),Object(b.jsx)(c.a,{path:"/tidligere-luker",element:Object(b.jsx)(S,{})}),Object(b.jsx)(c.a,{path:"/ny-bruker",element:Object(b.jsx)(_,{})}),Object(b.jsx)(c.a,{path:"/legg-til-luke",element:Object(b.jsx)(D,{})}),Object(b.jsx)(c.a,{path:"/admin",element:Object(b.jsx)(C,{})})]})]})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))};a.a.render(Object(b.jsx)(N.a,{children:Object(b.jsx)(P,{})}),document.getElementById("root")),H()}],[[19,1,2]]]);
//# sourceMappingURL=main.f12ec48f.chunk.js.map